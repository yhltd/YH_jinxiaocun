<view class="body">
<!-- 轮播图部分 -->
<view class="top-tu" style="{{topTuStyle}}" wx:if="{{isBannerHidden && hasBannerImages}}">
  <view class="banner-close" bindtap="hideBanner" wx:if="{{bannerImages.length > 0}}">×</view>
  <swiper 
    class="swiper-container" 
    indicator-dots="{{bannerImages.length > 1}}" 
    autoplay="{{bannerImages.length > 1}}" 
    interval="{{3000}}" 
    duration="{{500}}"
    wx:if="{{bannerImages.length > 0}}"
  >
    <swiper-item wx:for="{{bannerImages}}" wx:key="index">
      <image 
        class="swiper-image" 
        src="{{item}}" 
        mode="aspectFill" 
        lazy-load="true"
        binderror="onImageError"
        data-index="{{index}}"
      ></image>
    </swiper-item>
  </swiper>

  <!-- 空状态提示 -->
  <view class="empty-banner" wx:if="{{bannerImages.length === 0 && !isLoading}}">
    <text>暂无轮播图数据</text>
  </view>
  
  <!-- 加载状态 -->
  <view class="loading-banner" wx:if="{{isLoading}}">
    <text>轮播图加载中...</text>
  </view>
</view>
<!-- 跑马灯 -->
<view class="wenben-container" wx:if="{{isBannerHidden && hasBannerImages}}">
  <view class="wenben">
    <text class="marquee-text">{{marqueeText}}</text>
  </view>
</view>

<!-- 悬浮弹窗 -->
  <view class="xuan-tu" style="{{xuanTuStyle}}" wx:if="{{hasSingleImage && showXuanTu}}">
  <!-- 关闭按钮 -->
  <view class="xuan-tu-close" bindtap="closeXuanTu">×</view>
  <image 
    class="xuan-tu-image" 
    src="{{singleImage}}" 
    mode="aspectFill"
    binderror="onImageError"
    bindload="onImageLoad"
  ></image>
</view>


    <view class="list" wx:for="{{names}}" wx:for-item="items" wx:for-index="i" wx:key="id">
      <view class="item{{items.listHid?'_hover':''}}" bindtap="choice" data-index="{{i}}">
        <view class="item_text1">{{items.name}}</view>
      </view>
      <scroll-view class="sv" scroll-y="true" animation="{{items.animationData}}" hidden="{{!items.listHid}}">
        <view class="svitem" wx:for="{{items.list}}" bindtap="go" data-index="{{index}}" data-itemindex="{{i}}">
          {{item.text}}</view>
      </scroll-view>
    
      <image class="flow-border-container" style="height:85%;border: 3rpx solid;border-radius:0 30rpx 30rpx 0;width:81%;margin-top: 6rpx;padding-left:1%" src="{{items.src}}" hidden="{{items.listHid}}" />
      </view>
</view>


<view class="userInfo_view" animation="{{ianimation_userinfo}}" wx:if="{{initHidView}}">

  <swiper class="swiper"  circular="true" easing-function="linear" bindchange="changeFunction">
    <swiper-item style="display: flex;align-items: center;" item-id="upd_pwd">
      <view class="swiper_item">登陆密码更改</view>
    </swiper-item>
    <swiper-item style="display: flex;align-items: center;" item-id="upd_do">
      <view class="swiper_item">操作密码更改</view>
    </swiper-item>
    <!-- <swiper-item style="display: flex;align-items: center;" item-id="new_user">
    <view class="swiper_item">新建用户账号</view>
    </swiper-item> -->
  </swiper>

  <view hidden="{{function_userInfo!='upd_pwd'}}">
    <form bindsubmit="update_pwd" bindreset="empty">
      <view class="input_view">
      <view class="input_text">输入旧密码</view>
      <input name="name" placeholder="请输入旧密码" name="old_pwd" type="text" value="{{empty}}"></input>
      </view>
      <view class="input_view">
      <view class="input_text">输入新密码</view>
      <input name="name" placeholder="请输入新密码" name="new_pwd" type="text" value="{{empty}}"></input>
      </view>
      <view class="input_view">
        <view class="input_text">重复新密码</view>
        <input name="name" placeholder="请重复新密码" name="again_pwd"  value="{{empty}}" type="text"></input>
      </view>  

      <view class="bt_view">  
        <button class="bt_form" form-type="reset" hover-class="bt_form_hover">重置</button>
        <button class="bt_form" form-type="submit" hover-class="bt_form_hover">确定</button>
      </view>
    </form>
  </view>
  <view hidden="{{function_userInfo!='upd_do'}}">
    <form bindsubmit="update_do" bindreset="empty">
      <view class="input_view">
        <view class="input_text">原操作密码</view>
        <input name="name" placeholder="请输入原操作密码" name="old_do"  value="{{empty}}" type="text"></input>
      </view>
      <view class="input_view">
        <view class="input_text">新操作密码</view>
        <input name="name" placeholder="请输入新操作密码" name="new_do" value="{{empty}}" type="text"></input>
      </view>  
      <view class="input_view">
        <view class="input_text">重复新操作密码</view>
        <input name="name" placeholder="请重复新操作密码" name="again_do" value="{{empty}}" type="text"></input>
      </view>  

      <view class="bt_view">  
        <button class="bt_form" form-type="reset" hover-class="bt_form_hover">重置</button>
        <button class="bt_form" form-type="submit" hover-class="bt_form_hover">确定</button>
      </view>
    </form>
  </view>
  <view hidden="{{function_userInfo!='new_user'}}">
    <form bindsubmit="check_do" bindreset="empty" hidden="{{isdo_newuser}}">
      <view class="input_view">
        <view class="input_text">操作密码</view>
        <input name="name" placeholder="请输入操作密码" name="do" type="text" value="{{empty}}"></input>
      </view>
      <view class="bt_view">  
        <button class="bt_form" form-type="reset" hover-class="bt_form_hover">重置</button>
        <button class="bt_form" form-type="submit" hover-class="bt_form_hover">确定</button>
      </view>
    </form>


    <form bindsubmit="new_user" bindreset="empty" hidden="{{!isdo_newuser}}">
      <view class="input_view">
        <view class="input_text">账号名称</view>
        <input name="name" placeholder="请输入账号名称" name="newuser_name" value="{{empty}}" type="text"></input>
      </view>
      <view class="input_view">
        <view class="input_text">账号密码</view>
        <input name="name" placeholder="请输入账号密码" name="newuser_pwd" value="{{empty}}" type="text"></input>
      </view>  
      <view class="input_view">
        <view class="input_text">操作密码</view>
        <input name="name" placeholder="请输入操作密码" name="newuser_do" value="{{empty}}" type="text"></input>
      </view>  

      <view class="bt_view">  
        <button class="bt_form" form-type="reset" hover-class="bt_form_hover">重置</button>
        <button class="bt_form" form-type="submit" hover-class="bt_form_hover">确定</button>
      </view>
    </form>
  </view>
</view>

<view class="mask" wx:if="{{hid_view}}" bindtap="hidUserInfo">
</view>
  




